(()=>{"use strict";const e=window.wp.element,{i18n:{__,sprintf:c},hooks:{addFilter:t},components:{Placeholder:a,ToggleControl:s,SelectControl:n,Dashicon:o,Spinner:r,Tooltip:l,Button:m},element:{useState:f,useEffect:i}}=wp;t("wecodeart.admin.extensions","wecodeart/cf7/admin/panel",(function(c){return[...c,{name:"wca-cf7",title:__("Contact Form 7","wca-cf7"),render:c=>(0,e.createElement)(_,c)}]}));const _=t=>{const{isRequesting:n,wecodeartSettings:_,saveEntityRecord:w,createNotice:d}=t;if(n||!_)return(0,e.createElement)(a,{icon:(0,e.createElement)(r,null),label:__("Loading","wca-cf7"),instructions:__("Please wait, loading settings...","wca-cf7")});const[u,h]=f(null),p=(e=>{let{cf7_clean_assets:c,cf7_remove_js:t,cf7_remove_css:a,cf7_remove_autop:s}=e;return{cf7_clean_assets:c,cf7_remove_js:t,cf7_remove_css:a,cf7_remove_autop:s}})(_),[v,g]=f(p),S=()=>(h(!1),d("success",__("Settings saved.","wca-cf7"))),C=e=>{let t="",a="";switch(e){case"assets":a=v.cf7_clean_assets?__("when the content has a form","wca-cf7"):__("on every page","wca-cf7"),t=c(__("Contact Form 7 assets are loaded %s.","wca-cf7"),a);break;case"JS":a=v.cf7_remove_js?__("removed","wca-cf7"):__("loaded","wca-cf7"),t=c(__("Default Contact Form 7 plugin JS will be %s.","wca-cf7"),a);break;case"CSS":a=v.cf7_remove_css?__("removed","wca-cf7"):__("loaded","wca-cf7"),t=c(__("Default Contact Form 7 plugin CSS will be %s.","wca-cf7"),a);break;case"P":a=v.cf7_remove_autop?__("does not","wca-cf7"):__("does","wca-cf7"),t=c(__('Contact Form 7 %s apply the "autop" filter to the form content.',"wca-cf7"),a)}return t},E=0==(!0===v.cf7_remove_js&&!0===v.cf7_remove_css);return i((()=>{E||g({...v,cf7_clean_assets:""})}),[E]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(s,{label:(0,e.createElement)(e.Fragment,null,__("Remove JS?","wca-cf7"),(0,e.createElement)(l,{text:__("Removing JS will cause the form submission to hard refresh the page!","wca-cf7")},(0,e.createElement)(o,{icon:"editor-help",style:{marginLeft:"1rem",color:"var(--wp-admin-theme-color)"}}))),help:C("JS"),checked:v.cf7_remove_js,onChange:e=>g({...v,cf7_remove_js:e||""})}),(0,e.createElement)(s,{label:__("Remove CSS?","wca-cf7"),help:C("CSS"),checked:v.cf7_remove_css,onChange:e=>g({...v,cf7_remove_css:e||""})}),E&&(0,e.createElement)(s,{label:__("Optimize assets loading?","wca-cf7"),help:C("assets"),checked:v.cf7_clean_assets,onChange:e=>g({...v,cf7_clean_assets:e||""})}),(0,e.createElement)(s,{label:__('Remove "autop" filter?',"wca-cf7"),help:C("P"),checked:v.cf7_remove_autop,onChange:e=>g({...v,cf7_remove_autop:e||""})}),(0,e.createElement)("hr",{style:{margin:"20px 0"}}),(0,e.createElement)(m,{className:"button",isPrimary:!0,isLarge:!0,icon:u&&(0,e.createElement)(r,null),onClick:()=>{h(!0);let e={};Object.keys(v).map((c=>e={...e,[c]:""===v[c]?"unset":v[c]})),w("wecodeart","settings",e).then(S)},disabled:u},u?"":__("Save","wecodeart")))}})();